var e=Object.defineProperty,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,s,o)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o,i=(e,i)=>{for(var a in i||(i={}))s.call(i,a)&&n(e,a,i[a]);if(t)for(var a of t(i))o.call(i,a)&&n(e,a,i[a]);return e};import{C as a,L as r,F as c,G as l,B as h,a as d,b as m,M as p,P as u,c as b,d as f,e as g,f as w,V as y,S as j,T as v,g as x,W as O,h as V,i as k,j as z,k as M,l as P,m as R,n as B,o as S}from"./vendor.016cd8c4.js";const L=/^[og]\s*(.+)?/,E=/^mtllib /,I=/^usemtl /,F=/^usemap /,U=new y,A=new y,C=new y,D=new y,T=new y,_=new a;function G(){const e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);const s=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const o={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==s?s.smooth:this.smooth,groupStart:void 0!==s?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){const t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(o),o},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){const t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},s&&s.name&&"function"==typeof s.clone){const e=s.clone(0);e.inherited=!0,this.object.materials.push(e)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const s=parseInt(e,10);return 3*(s>=0?s-1:s+t/3)},parseNormalIndex:function(e,t){const s=parseInt(e,10);return 3*(s>=0?s-1:s+t/3)},parseUVIndex:function(e,t){const s=parseInt(e,10);return 2*(s>=0?s-1:s+t/2)},addVertex:function(e,t,s){const o=this.vertices,n=this.object.geometry.vertices;n.push(o[e+0],o[e+1],o[e+2]),n.push(o[t+0],o[t+1],o[t+2]),n.push(o[s+0],o[s+1],o[s+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,s){const o=this.normals,n=this.object.geometry.normals;n.push(o[e+0],o[e+1],o[e+2]),n.push(o[t+0],o[t+1],o[t+2]),n.push(o[s+0],o[s+1],o[s+2])},addFaceNormal:function(e,t,s){const o=this.vertices,n=this.object.geometry.normals;U.fromArray(o,e),A.fromArray(o,t),C.fromArray(o,s),T.subVectors(C,A),D.subVectors(U,A),T.cross(D),T.normalize(),n.push(T.x,T.y,T.z),n.push(T.x,T.y,T.z),n.push(T.x,T.y,T.z)},addColor:function(e,t,s){const o=this.colors,n=this.object.geometry.colors;void 0!==o[e]&&n.push(o[e+0],o[e+1],o[e+2]),void 0!==o[t]&&n.push(o[t+0],o[t+1],o[t+2]),void 0!==o[s]&&n.push(o[s+0],o[s+1],o[s+2])},addUV:function(e,t,s){const o=this.uvs,n=this.object.geometry.uvs;n.push(o[e+0],o[e+1]),n.push(o[t+0],o[t+1]),n.push(o[s+0],o[s+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,s,o,n,i,a,r,c){const l=this.vertices.length;let h=this.parseVertexIndex(e,l),d=this.parseVertexIndex(t,l),m=this.parseVertexIndex(s,l);if(this.addVertex(h,d,m),this.addColor(h,d,m),void 0!==a&&""!==a){const e=this.normals.length;h=this.parseNormalIndex(a,e),d=this.parseNormalIndex(r,e),m=this.parseNormalIndex(c,e),this.addNormal(h,d,m)}else this.addFaceNormal(h,d,m);if(void 0!==o&&""!==o){const e=this.uvs.length;h=this.parseUVIndex(o,e),d=this.parseUVIndex(n,e),m=this.parseUVIndex(i,e),this.addUV(h,d,m),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let s=0,o=e.length;s<o;s++){const o=this.parseVertexIndex(e[s],t);this.addVertexPoint(o),this.addColor(o)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const s=this.vertices.length,o=this.uvs.length;for(let n=0,i=e.length;n<i;n++)this.addVertexLine(this.parseVertexIndex(e[n],s));for(let n=0,i=t.length;n<i;n++)this.addUVLine(this.parseUVIndex(t[n],o))}};return e.startObject("",!1),e}class Y extends r{constructor(e){super(e),this.materials=null}load(e,t,s,o){const n=this,i=new c(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(s){try{t(n.parse(s))}catch(i){o?o(i):console.error(i),n.manager.itemError(e)}}),s,o)}setMaterials(e){return this.materials=e,this}parse(e){const t=new G;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));const s=e.split("\n");let o="",n="",i=0,a=[];const r="function"==typeof"".trimLeft;for(let l=0,h=s.length;l<h;l++)if(o=s[l],o=r?o.trimLeft():o.trim(),i=o.length,0!==i&&(n=o.charAt(0),"#"!==n))if("v"===n){const e=o.split(/\s+/);switch(e[0]){case"v":t.vertices.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])),e.length>=7?(_.setRGB(parseFloat(e[4]),parseFloat(e[5]),parseFloat(e[6])).convertSRGBToLinear(),t.colors.push(_.r,_.g,_.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]));break;case"vt":t.uvs.push(parseFloat(e[1]),parseFloat(e[2]))}}else if("f"===n){const e=o.slice(1).trim().split(/\s+/),s=[];for(let t=0,o=e.length;t<o;t++){const o=e[t];if(o.length>0){const e=o.split("/");s.push(e)}}const n=s[0];for(let o=1,i=s.length-1;o<i;o++){const e=s[o],i=s[o+1];t.addFace(n[0],e[0],i[0],n[1],e[1],i[1],n[2],e[2],i[2])}}else if("l"===n){const e=o.substring(1).trim().split(" ");let s=[];const n=[];if(-1===o.indexOf("/"))s=e;else for(let t=0,o=e.length;t<o;t++){const o=e[t].split("/");""!==o[0]&&s.push(o[0]),""!==o[1]&&n.push(o[1])}t.addLineGeometry(s,n)}else if("p"===n){const e=o.slice(1).trim().split(" ");t.addPointGeometry(e)}else if(null!==(a=L.exec(o))){const e=(" "+a[0].slice(1).trim()).slice(1);t.startObject(e)}else if(I.test(o))t.object.startMaterial(o.substring(7).trim(),t.materialLibraries);else if(E.test(o))t.materialLibraries.push(o.substring(7).trim());else if(F.test(o))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===n){if(a=o.split(" "),a.length>1){const e=a[1].trim().toLowerCase();t.object.smooth="0"!==e&&"off"!==e}else t.object.smooth=!0;const e=t.object.currentMaterial();e&&(e.smooth=t.object.smooth)}else{if("\0"===o)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+o+'"')}t.finalize();const c=new l;c.materialLibraries=[].concat(t.materialLibraries);if(!0===!(1===t.objects.length&&0===t.objects[0].geometry.vertices.length))for(let l=0,y=t.objects.length;l<y;l++){const e=t.objects[l],s=e.geometry,o=e.materials,n="Line"===s.type,i="Points"===s.type;let a=!1;if(0===s.vertices.length)continue;const r=new h;r.setAttribute("position",new d(s.vertices,3)),s.normals.length>0&&r.setAttribute("normal",new d(s.normals,3)),s.colors.length>0&&(a=!0,r.setAttribute("color",new d(s.colors,3))),!0===s.hasUVIndices&&r.setAttribute("uv",new d(s.uvs,2));const y=[];for(let c=0,l=o.length;c<l;c++){const e=o[c],s=e.name+"_"+e.smooth+"_"+a;let r=t.materials[s];if(null!==this.materials)if(r=this.materials.create(e.name),!n||!r||r instanceof m){if(i&&r&&!(r instanceof u)){const e=new u({size:10,sizeAttenuation:!1});p.prototype.copy.call(e,r),e.color.copy(r.color),e.map=r.map,r=e}}else{const e=new m;p.prototype.copy.call(e,r),e.color.copy(r.color),r=e}void 0===r&&(r=n?new m:i?new u({size:1,sizeAttenuation:!1}):new b,r.name=e.name,r.flatShading=!e.smooth,r.vertexColors=a,t.materials[s]=r),y.push(r)}let j;if(y.length>1){for(let e=0,t=o.length;e<t;e++){const t=o[e];r.addGroup(t.groupStart,t.groupCount,e)}j=n?new f(r,y):i?new g(r,y):new w(r,y)}else j=n?new f(r,y[0]):i?new g(r,y[0]):new w(r,y[0]);j.name=e.name,c.add(j)}else if(t.vertices.length>0){const e=new u({size:1,sizeAttenuation:!1}),s=new h;s.setAttribute("position",new d(t.vertices,3)),t.colors.length>0&&void 0!==t.colors[0]&&(s.setAttribute("color",new d(t.colors,3)),e.vertexColors=!0);const o=new g(s,e);c.add(o)}return c}}const H=new class{getInitialState(){return{DOM:{},Objects:{sat:{file:"sat.obj",path:"./res/models/",wireframe:!0,pos:[85,35,45],rot:[0,.7,1],scale:[3,3,3]},rocket:{file:"rocket.obj",path:"./res/models/",wiremat:!0,pos:[1280,92,35],rot:[.5,1.5,0],scale:[18,18,18]}},sceneBreakpoints:{default:[],mobile:[1600,2400,4200,5500,8500],desktop:[2400,3500,8500,11e3,15450]},sceneVariables:{cameraFov:75,cameraMinReach:.1,cameraMaxReach:1e3,cameraPosX:0,cameraPosY:0,cameraPosZ:9,cameraRotX:.5,cameraRotY:0,cameraRotZ:0}}}constructor(e={DEBUG:!1,DOM:{},Objects:{},sceneBreakpoints:{},sceneVariables:{}}){const t=this.getInitialState();this.DEBUG=e.DEBUG,this.DOM=i(i({},t.DOM),e.DOM),this.Objects=i(i({},t.Objects),e.Objects),this.sceneBreakpoints=i(i({},t.sceneBreakpoints),e.sceneBreakpoints),this.sceneVariables=i(i({},t.sceneVariables),e.sceneVariables),this.init()}init(){this.setWindowSettings(),this.setScene(),this.loadSkeletonObjects(),this.loadWireframeObjects(),this.loadObjects(),Array(200).fill().forEach((()=>{this.loadStars()})),this.loadTexts(),this.loadPlanet(),this.setRenderer(),this.renderer.render(this.scene,this.camera)}setWindowSettings(){this.DOM.ratio=window.innerWidth/window.innerHeight,this.DOM.ratio>1?this.sceneBreakpoints.default=this.sceneBreakpoints.desktop:this.sceneBreakpoints.default=this.sceneBreakpoints.mobile,this.DOM.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}setScene(){this.scene=new j;const e=(new v).load("res/img/bg.jpg");this.scene.background=e;let t=new x(this.sceneVariables.cameraFov,this.DOM.ratio,this.sceneVariables.cameraMinReach,this.sceneVariables.cameraMaxReach);t.position.set(this.sceneVariables.cameraPosX,this.sceneVariables.cameraPosY,this.sceneVariables.cameraPosZ),t.rotation.set(this.sceneVariables.cameraRotX,this.sceneVariables.cameraRotY,this.sceneVariables.cameraRotZ),this.camera=t}setRenderer(){this.renderer=new O({canvas:document.querySelector("#bg")}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight)}onLoadProgress(e){if(e.lengthComputable){const t=e.loaded/e.total*100;if(this.DEBUG){let s=e.currentTarget.responseURL.replace("http://localhost:3000/","");console.log(s,Math.round(t,2)+"% downloaded")}}}loadSkeletonObjects(){for(const e in this.Objects)(new Y).setPath(this.Objects[e].path).load(this.Objects[e].file,(t=>{(this.Objects[e].wireframe||this.Objects[e].wiremat)&&t.traverse((function(e){e.isMesh&&(e.material=new V({color:16777215,wireframe:!0}))})),t.position.set(this.Objects[e].pos[0],this.Objects[e].pos[1],this.Objects[e].pos[2]),t.rotation.set(this.Objects[e].rot[0],this.Objects[e].rot[1],this.Objects[e].rot[2]),t.scale.set(this.Objects[e].scale[0],this.Objects[e].scale[1],this.Objects[e].scale[2]),this.scene.add(t),this.Objects[e].wiremat&&(new Y).setPath(this.Objects[e].path).load(this.Objects[e].file,(t=>{t.position.set(this.Objects[e].pos[0],this.Objects[e].pos[1],this.Objects[e].pos[2]),t.rotation.set(this.Objects[e].rot[0],this.Objects[e].rot[1],this.Objects[e].rot[2]),t.scale.set(this.Objects[e].scale[0],this.Objects[e].scale[1],this.Objects[e].scale[2]),this.scene.add(t)}),this.onLoadProgress)}),this.onLoadProgress)}loadWireframeObjects(){(new Y).setPath("./res/models/").load("ready land.obj",(e=>{e.traverse((function(e){e.isMesh&&(e.material=new V({color:16777215,wireframe:!0,linewidth:3}))})),e.position.y=-.85,e.position.z=-35,e.scale.x=15,e.scale.y=15,e.scale.z=15,this.scene.add(e)}),this.onLoadProgress),(new Y).setPath("./res/models/").load("ready land.obj",(e=>{e.traverse((function(e){e.isMesh&&(e.material=new V({color:0}))})),e.position.y=-.875,e.position.z=-35,e.scale.x=15,e.scale.y=15,e.scale.z=15,this.scene.add(e)}),this.onLoadProgress)}loadObjects(){}loadPlanet(){const e=(new v).load("res/img/normal.jpg");let t=[-150,120,-200],s=[0,.5,1];(new v).load("res/img/bg.jpg");const o=(new v).load("res/img/444.jpg");this.myPlanet=new w(new k(72,48,48),new V({map:o})),this.scene.add(this.myPlanet),this.myPlanet.position.set(t[0],t[1],t[2]),this.myPlanet.rotation.set(s[0],s[1],s[2]);const n=new z(100,15,12,64);new M({color:1575995,wireframe:!0});const i=(new v).load("res/img/998.jpg");this.myRing=new w(n,new V({map:i})),this.myRing.position.set(t[0],t[1],t[2]),this.myRing.rotation.set(2.4,0,3),this.myRing.scale.z=.05,this.scene.add(this.myRing);let a=this.Objects.rocket;this.rocketpivot=new l;{const e=new P(35,35,35);let t=new w(e,new V({color:16777215,wireframe:!0})),s=new w(e,new V({color:0}));this.rocketpivot.add(t),this.rocketpivot.add(s),this.rocketpivot.position.set(a.pos[0]-20,a.pos[1],a.pos[2]),this.scene.add(this.rocketpivot)}const r=new w(new P(16,16,16),new V({color:7829367,wireframe:!0}));r.rotation.y=.5,r.rotation.z=1;const c=new w(new k(6,4,4),new V({color:16777215,wireframe:!0})),h=new w(new k(4,4,4),new V({color:0})),d=new l;d.position.x=42,d.position.y=0,d.position.z=-22,d.add(r),d.add(c),d.add(h),this.scene.add(d);const m=(new v).load("res/img/Moon_texture.jpg");this.myMoon=new w(new k(18,48,48),new V({map:m,normalMap:e})),this.myMoon.position.set(390,175,250),this.scene.add(this.myMoon)}loadTexts(){(new R).load("./style/fonts/Teko_Medium_Regular.json",(e=>{const t=new B("UNIVERSO CREATIVO",{font:e,size:5,height:1,curveSegments:10,bevelEnabled:!1,bevelOffset:0,bevelSegments:1,bevelSize:.3,bevelThickness:1}),s=[new V({color:9843711}),new V({color:593205})],o=new w(t,s);o.position.y=-.7,o.position.x=-17.5,o.position.z=9,this.scene.add(o)}));(new R).load("./style/fonts/Teko_Medium_Regular.json",(e=>{const t=new B("SOMOS UN ",{font:e,size:2,height:1,curveSegments:10,bevelEnabled:!1,bevelOffset:0,bevelSegments:1,bevelSize:.3,bevelThickness:1}),s=[new V({color:9843711}),new V({color:593205})],o=new w(t,s);o.position.y=-.7,o.position.x=-26,o.position.z=11,this.scene.add(o)}));(new R).load("./style/fonts/Teko_Medium_Regular.json",(e=>{const t=new B("¿Qué hacemos por ti?",{font:e,size:20,height:1,curveSegments:10,bevelEnabled:!1,bevelOffset:0,bevelSegments:1,bevelSize:.3,bevelThickness:1}),s=[new V({color:16777215}),new V({color:593205})],o=new w(t,s);o.rotation.x=.6,o.position.x=230,o.position.y=80,o.position.z=30,this.scene.add(o)}));{const e=new z(50,15,8,32),t=new V({color:1773375,wireframe:!0});this.torus=new w(e,t),this.torus.position.x=790,this.torus.position.y=80,this.torus.position.z=55,this.scene.add(this.torus)}(new R).load("./style/fonts/Teko_Medium_Regular.json",(e=>{const t=new B("Archenautas",{font:e,size:22,height:5,curveSegments:10,bevelEnabled:!1,bevelOffset:0,bevelSegments:1,bevelSize:.3,bevelThickness:1}),s=[new V({color:16777215}),new V({color:593205})],o=new w(t,s);o.rotation.x=.5,o.position.x=1200,o.position.y=70,o.position.z=55,this.scene.add(o)}))}loadStars(){let e,t=parseInt(5*Math.random()),s=parseInt(5*Math.random()),o=.5+parseFloat(Math.random());s>2&&(o*=o),s>3&&(o*=o),e=new k(o,t,s);const n=new V({color:16777215,wireframe:!0}),i=new w(e,n);i.rotation.x=S.randFloatSpread(10),i.rotation.y=S.randFloatSpread(10),i.rotation.z=S.randFloatSpread(10);const[a,r,c]=Array(3).fill().map((()=>S.randFloatSpread(500)));i.position.set(2*a,r+200,c),this.scene.add(i)}};function N(){const e=document.body.getBoundingClientRect().top;console.log(e),e<-H.sceneBreakpoints.default[4]?(H.camera.rotation.z=H.sceneVariables.cameraRotZ,H.camera.rotation.x=H.sceneVariables.cameraRotX,H.camera.rotation.y=H.sceneVariables.cameraRotY,H.camera.position.z=45-H.sceneVariables.cameraPosZ,H.camera.position.y=H.sceneVariables.cameraPosY+1):(H.camera.position.z=H.sceneVariables.cameraPosZ+-.01*e,e<-H.sceneBreakpoints.default[0]?H.camera.rotation.x=H.sceneVariables.cameraRotX:H.camera.rotation.x=H.sceneVariables.cameraRotX-5e-5*(e+H.sceneBreakpoints.default[0]),e<-H.sceneBreakpoints.default[0]?e>-H.sceneBreakpoints.default[2]?H.camera.position.y=H.sceneVariables.cameraPosY-.0065*(e+H.sceneBreakpoints.default[0]):H.camera.position.y=H.sceneVariables.cameraPosY-.0065*(-H.sceneBreakpoints.default[2]+H.sceneBreakpoints.default[0]):H.camera.position.y=H.sceneVariables.cameraPosY,e<-H.sceneBreakpoints.default[1]?H.camera.position.x=-H.sceneVariables.cameraPosX-.03*(e+H.sceneBreakpoints.default[1]):H.camera.position.x=-H.sceneVariables.cameraPosX,e<-H.sceneBreakpoints.default[2]?(H.camera.position.x=-H.sceneVariables.cameraPosX-.25*(e+H.sceneBreakpoints.default[2])-.03*(e+H.sceneBreakpoints.default[1]),e>-H.sceneBreakpoints.default[3]?H.camera.rotation.y=H.sceneVariables.cameraRotY+2e-4*(e+H.sceneBreakpoints.default[2]):H.camera.rotation.y=H.sceneVariables.cameraRotY+2e-4*(-H.sceneBreakpoints.default[3]+H.sceneBreakpoints.default[2])):H.camera.rotation.y=H.sceneVariables.cameraRotY)}document.body.onscroll=N,N(),function e(){var t;requestAnimationFrame(e),H.myPlanet.rotation.z+=.001,H.myRing.rotation.z-=2e-4,H.torus.rotation.y+=.003,H.torus.rotation.x+=.001,H.rocketpivot.rotation.x+=.001,H.rocketpivot.rotation.y+=.002,H.rocketpivot.rotation.z-=.002,document.body.getBoundingClientRect().top<-H.sceneBreakpoints.default[4]&&(H.camera.position.x=(t=H.camera.position.x,(-H.sceneVariables.cameraPosX-t)*.2+t)),H.renderer.render(H.scene,H.camera)}(),window.addEventListener("load",(function(e){document.getElementById("mainMenuModal").addEventListener("click",(function(e){document.body.classList.toggle("noScroll"),console.log("asd"),document.getElementById("mainModal").classList.toggle("modalState"),document.getElementById("mainMenuContent").classList.toggle("displayNone")}))}));
